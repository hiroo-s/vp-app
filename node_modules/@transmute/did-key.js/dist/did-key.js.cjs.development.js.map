{"version":3,"file":"did-key.js.cjs.development.js","sources":["../src/resolver.ts"],"sourcesContent":["import { driver as ed25519Driver } from '@transmute/did-key-ed25519';\nimport { driver as x25519Driver } from '@transmute/did-key-x25519';\nimport { driver as bls12381Driver } from '@transmute/did-key-bls12381';\nimport { driver as secp256k1Driver } from '@transmute/did-key-secp256k1';\nimport { driver as didWebDriver } from '@transmute/did-key-web-crypto';\n\nconst prefixToDriverMap: any = {\n  z6M: ed25519Driver,\n  z6L: x25519Driver,\n  zUC: bls12381Driver, //g2\n  z3t: bls12381Driver, //g1\n  z5T: bls12381Driver, //g1andg2\n  zQ3: secp256k1Driver,\n  zru: didWebDriver,\n  zFw: didWebDriver,\n  zWG: didWebDriver,\n};\n\nexport const resolver = {\n  resolve: async (\n    didUrl: string,\n    resolutionMetaData: any = { accept: 'application/did+ld+json' }\n  ) => {\n    if (didUrl.indexOf('did:key:') !== 0) {\n      throw new Error('did must be of method did:key.');\n    }\n    const idchar: any = didUrl.split('did:key:').pop();\n    const encodedType = idchar.substring(0, 3);\n    if (prefixToDriverMap[encodedType]) {\n      const result = await prefixToDriverMap[encodedType].resolve(\n        didUrl,\n        resolutionMetaData\n      );\n      return result;\n    } else {\n      throw new Error('Unknown DID Key type: ' + encodedType);\n    }\n  },\n};\n"],"names":["prefixToDriverMap","z6M","ed25519Driver","z6L","x25519Driver","zUC","bls12381Driver","z3t","z5T","zQ3","secp256k1Driver","zru","didWebDriver","zFw","zWG","resolver","resolve","didUrl","resolutionMetaData","accept","indexOf","Error","idchar","split","pop","encodedType","substring"],"mappings":";;;;;;;;;;AAMA,IAAMA,iBAAiB,GAAQ;AAC7BC,EAAAA,GAAG,EAAEC,oBADwB;AAE7BC,EAAAA,GAAG,EAAEC,mBAFwB;AAG7BC,EAAAA,GAAG,EAAEC,qBAHwB;AAI7BC,EAAAA,GAAG,EAAED,qBAJwB;AAK7BE,EAAAA,GAAG,EAAEF,qBALwB;AAM7BG,EAAAA,GAAG,EAAEC,sBANwB;AAO7BC,EAAAA,GAAG,EAAEC,sBAPwB;AAQ7BC,EAAAA,GAAG,EAAED,sBARwB;AAS7BE,EAAAA,GAAG,EAAEF;AATwB,CAA/B;IAYaG,QAAQ,GAAG;AACtBC,EAAAA,OAAO,YACLC,MADK,EAELC,kBAFK;AAAA,QAELA,kBAFK;AAELA,MAAAA,kBAFK,GAEqB;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAFrB;AAAA;;AAAA;AAIL,UAAIF,MAAM,CAACG,OAAP,CAAe,UAAf,MAA+B,CAAnC,EAAsC;AACpC,cAAM,IAAIC,KAAJ,CAAU,gCAAV,CAAN;AACD;;AACD,UAAMC,MAAM,GAAQL,MAAM,CAACM,KAAP,CAAa,UAAb,EAAyBC,GAAzB,EAApB;AACA,UAAMC,WAAW,GAAGH,MAAM,CAACI,SAAP,CAAiB,CAAjB,EAAoB,CAApB,CAApB;;AACA,UAAI1B,iBAAiB,CAACyB,WAAD,CAArB,EAAoC;AAAA,+BACbzB,iBAAiB,CAACyB,WAAD,CAAjB,CAA+BT,OAA/B,CACnBC,MADmB,EAEnBC,kBAFmB,CADa;AAMnC,OAND,MAMO;AACL,cAAM,IAAIG,KAAJ,CAAU,2BAA2BI,WAArC,CAAN;AACD;AACF,KAlBM;AAAA;AAAA;AAAA;AADe;;;;"}